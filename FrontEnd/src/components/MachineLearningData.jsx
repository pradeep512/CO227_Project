// import * as React from 'react';
// import Box from '@mui/material/Box';
// import FilledInput from '@mui/material/FilledInput';
// import InputAdornment from '@mui/material/InputAdornment';
// import FormHelperText from '@mui/material/FormHelperText';
// import FormControl from '@mui/material/FormControl';
// import SendDeleteButton from './SendDeleteButton';

// export default function MachineLearningData() {

//     return (
//         <Box sx={{ display: 'flex', flexWrap: 'wrap' }}>

//             <div>
//                 <div>
//                 <FormControl sx={{ m: 1, width: '25ch' }} variant="filled">
//                     <FilledInput
//                         id="filled-adornment-weight"
//                         endAdornment={<InputAdornment position="end">kg</InputAdornment>}
//                         aria-describedby="filled-weight-helper-text"
//                         inputProps={{
//                             'aria-label': 'weight',
//                         }}
//                     />
//                     <FormHelperText id="filled-weight-helper-text" style={{
//                         fontWeight: 'bold',
//                         fontSize: '1rem',
//                         color: 'black'
//                     }}>Weight</FormHelperText>
//                 </FormControl>


//                 <FormControl sx={{ m: 1, width: '25ch' }} variant="filled">
//                     <FilledInput
//                         id="filled-adornment-weight"
//                         endAdornment={<InputAdornment position="end">kg</InputAdornment>}
                        
//                         aria-describedby="filled-weight-helper-text"
//                         inputProps={{
//                             'aria-label': 'weight',
//                         }}
//                     />
//                     <FormHelperText id="filled-weight-helper-text" style={{
//                         fontWeight: 'bold',
//                         fontSize: '1rem',
//                         color: 'black',
//                     }}>Weight</FormHelperText>
//                 </FormControl>
//                 </div>
                

//                 <div>
//                 <FormControl sx={{ m: 1, width: '25ch' }} variant="filled">
//                     <FilledInput
//                         id="filled-adornment-weight"
//                         endAdornment={<InputAdornment position="end">kg</InputAdornment>}
//                         aria-describedby="filled-weight-helper-text"
//                         inputProps={{
//                             'aria-label': 'weight',
//                         }}
//                     />
//                     <FormHelperText id="filled-weight-helper-text" style={{
//                         fontWeight: 'bold',
//                         fontSize: '1rem',
//                         color: 'black'
//                     }}>Weight</FormHelperText>
//                 </FormControl>


//                 <FormControl sx={{ m: 1, width: '25ch' }} variant="filled">
//                     <FilledInput
//                         id="filled-adornment-weight"
//                         endAdornment={<InputAdornment position="end">kg</InputAdornment>}
                        
//                         aria-describedby="filled-weight-helper-text"
//                         inputProps={{
//                             'aria-label': 'weight',
//                         }}
//                     />
//                     <FormHelperText id="filled-weight-helper-text" style={{
//                         fontWeight: 'bold',
//                         fontSize: '1rem',
//                         color: 'black',
//                     }}>Weight</FormHelperText>
//                 </FormControl>
//                 </div>


//                 <div>
//                 <FormControl sx={{ m: 1, width: '25ch' }} variant="filled">
//                     <FilledInput
//                         id="filled-adornment-weight"
//                         endAdornment={<InputAdornment position="end">kg</InputAdornment>}
//                         aria-describedby="filled-weight-helper-text"
//                         inputProps={{
//                             'aria-label': 'weight',
//                         }}
//                     />
//                     <FormHelperText id="filled-weight-helper-text" style={{
//                         fontWeight: 'bold',
//                         fontSize: '1rem',
//                         color: 'black'
//                     }}>Weight</FormHelperText>
//                 </FormControl>


//                 <FormControl sx={{ m: 1, width: '25ch' }} variant="filled">
//                     <FilledInput
//                         id="filled-adornment-weight"
//                         endAdornment={<InputAdornment position="end">kg</InputAdornment>}
                        
//                         aria-describedby="filled-weight-helper-text"
//                         inputProps={{
//                             'aria-label': 'weight',
//                         }}
//                     />
//                     <FormHelperText id="filled-weight-helper-text" style={{
//                         fontWeight: 'bold',
//                         fontSize: '1rem',
//                         color: 'black',
//                     }}>Weight</FormHelperText>
//                 </FormControl>
//                 </div>


//                 <div>
//                 <FormControl sx={{ m: 1, width: '25ch' }} variant="filled">
//                     <FilledInput
//                         id="filled-adornment-weight"
//                         endAdornment={<InputAdornment position="end">kg</InputAdornment>}
//                         aria-describedby="filled-weight-helper-text"
//                         inputProps={{
//                             'aria-label': 'weight',
//                         }}
//                     />
//                     <FormHelperText id="filled-weight-helper-text" style={{
//                         fontWeight: 'bold',
//                         fontSize: '1rem',
//                         color: 'black'
//                     }}>Weight</FormHelperText>
//                 </FormControl>


//                 <FormControl sx={{ m: 1, width: '25ch' }} variant="filled">
//                     <FilledInput
//                         id="filled-adornment-weight"
//                         endAdornment={<InputAdornment position="end">kg</InputAdornment>}
                        
//                         aria-describedby="filled-weight-helper-text"
//                         inputProps={{
//                             'aria-label': 'weight',
//                         }}
//                     />
//                     <FormHelperText id="filled-weight-helper-text" style={{
//                         fontWeight: 'bold',
//                         fontSize: '1rem',
//                         color: 'black',
//                     }}>Weight</FormHelperText>
//                 </FormControl>
//                 </div>


//                 <div>
//                 <FormControl sx={{ m: 1, width: '25ch' }} variant="filled">
//                     <FilledInput
//                         id="filled-adornment-weight"
//                         endAdornment={<InputAdornment position="end">kg</InputAdornment>}
//                         aria-describedby="filled-weight-helper-text"
//                         inputProps={{
//                             'aria-label': 'weight',
//                         }}
//                     />
//                     <FormHelperText id="filled-weight-helper-text" style={{
//                         fontWeight: 'bold',
//                         fontSize: '1rem',
//                         color: 'black'
//                     }}>Weight</FormHelperText>
//                 </FormControl>


//                 <FormControl sx={{ m: 1, width: '25ch' }} variant="filled">
//                     <FilledInput
//                         id="filled-adornment-weight"
//                         endAdornment={<InputAdornment position="end">kg</InputAdornment>}
                        
//                         aria-describedby="filled-weight-helper-text"
//                         inputProps={{
//                             'aria-label': 'weight',
//                         }}
//                     />
//                     <FormHelperText id="filled-weight-helper-text" style={{
//                         fontWeight: 'bold',
//                         fontSize: '1rem',
//                         color: 'black',
//                     }}>Weight</FormHelperText>
//                 </FormControl>
//                 </div>
//                 <SendDeleteButton />
//             </div>
//         </Box>
//     );
// }



// import Box from '@mui/material/Box';
// import FilledInput from '@mui/material/FilledInput';
// import InputAdornment from '@mui/material/InputAdornment';
// import FormHelperText from '@mui/material/FormHelperText';
// import FormControl from '@mui/material/FormControl';
// import SendDeleteButton from './SendDeleteButton';

// export default function MachineLearningData() {
//     return (
//         <Box sx={{ display: 'flex', flexWrap: 'wrap' }}>
//             <div>
//                 <FormControl sx={{ m: 1, width: '25ch' }} variant="filled">
//                     <FilledInput
//                         id="age"
//                         endAdornment={<InputAdornment position="end">years</InputAdornment>}
//                         aria-describedby="age-helper-text"
//                         inputProps={{
//                             'aria-label': 'age',
//                         }}
//                     />
//                     <FormHelperText id="age-helper-text" style={{
//                         fontWeight: 'bold',
//                         fontSize: '1rem',
//                         color: 'black'
//                     }}>Enter your age</FormHelperText>
//                 </FormControl>

//                 <FormControl sx={{ m: 1, width: '25ch' }} variant="filled">
//                     <FilledInput
//                         id="sex"
//                         endAdornment={<InputAdornment position="end">0 or 1</InputAdornment>}
//                         aria-describedby="sex-helper-text"
//                         inputProps={{
//                             'aria-label': 'sex',
//                         }}
//                     />
//                     <FormHelperText id="sex-helper-text" style={{
//                         fontWeight: 'bold',
//                         fontSize: '1rem',
//                         color: 'black'
//                     }}>Sex (0 = Female, 1 = Male)</FormHelperText>
//                 </FormControl>

//                 <FormControl sx={{ m: 1, width: '25ch' }} variant="filled">
//                     <FilledInput
//                         id="cp"
//                         endAdornment={<InputAdornment position="end">type</InputAdornment>}
//                         aria-describedby="cp-helper-text"
//                         inputProps={{
//                             'aria-label': 'cp',
//                         }}
//                     />
//                     <FormHelperText id="cp-helper-text" style={{
//                         fontWeight: 'bold',
//                         fontSize: '1rem',
//                         color: 'black'
//                     }}>Chest Pain Type (0-3)</FormHelperText>
//                 </FormControl>

//                 <FormControl sx={{ m: 1, width: '25ch' }} variant="filled">
//                     <FilledInput
//                         id="trestbps"
//                         endAdornment={<InputAdornment position="end">mm Hg</InputAdornment>}
//                         aria-describedby="trestbps-helper-text"
//                         inputProps={{
//                             'aria-label': 'trestbps',
//                         }}
//                     />
//                     <FormHelperText id="trestbps-helper-text" style={{
//                         fontWeight: 'bold',
//                         fontSize: '1rem',
//                         color: 'black'
//                     }}>Resting Blood Pressure</FormHelperText>
//                 </FormControl>

//                 <FormControl sx={{ m: 1, width: '25ch' }} variant="filled">
//                     <FilledInput
//                         id="chol"
//                         endAdornment={<InputAdornment position="end">mg/dL</InputAdornment>}
//                         aria-describedby="chol-helper-text"
//                         inputProps={{
//                             'aria-label': 'chol',
//                         }}
//                     />
//                     <FormHelperText id="chol-helper-text" style={{
//                         fontWeight: 'bold',
//                         fontSize: '1rem',
//                         color: 'black'
//                     }}>Serum Cholesterol</FormHelperText>
//                 </FormControl>

//                 <FormControl sx={{ m: 1, width: '25ch' }} variant="filled">
//                     <FilledInput
//                         id="fbs"
//                         endAdornment={<InputAdornment position="end">0 or 1</InputAdornment>}
//                         aria-describedby="fbs-helper-text"
//                         inputProps={{
//                             'aria-label': 'fbs',
//                         }}
//                     />
//                     <FormHelperText id="fbs-helper-text" style={{
//                         fontWeight: 'bold',
//                         fontSize: '1rem',
//                         color: 'black'
//                     }}>Fasting Blood Sugar (1 if  &gt; 120 mg/dL)</FormHelperText>
//                 </FormControl>

//                 <FormControl sx={{ m: 1, width: '25ch' }} variant="filled">
//                     <FilledInput
//                         id="restecg"
//                         endAdornment={<InputAdornment position="end">0-2</InputAdornment>}
//                         aria-describedby="restecg-helper-text"
//                         inputProps={{
//                             'aria-label': 'restecg',
//                         }}
//                     />
//                     <FormHelperText id="restecg-helper-text" style={{
//                         fontWeight: 'bold',
//                         fontSize: '1rem',
//                         color: 'black'
//                     }}>Resting ECG Result</FormHelperText>
//                 </FormControl>

//                 <FormControl sx={{ m: 1, width: '25ch' }} variant="filled">
//                     <FilledInput
//                         id="thalach"
//                         endAdornment={<InputAdornment position="end">bpm</InputAdornment>}
//                         aria-describedby="thalach-helper-text"
//                         inputProps={{
//                             'aria-label': 'thalach',
//                         }}
//                     />
//                     <FormHelperText id="thalach-helper-text" style={{
//                         fontWeight: 'bold',
//                         fontSize: '1rem',
//                         color: 'black'
//                     }}>Maximum Heart Rate</FormHelperText>
//                 </FormControl>

//                 <FormControl sx={{ m: 1, width: '25ch' }} variant="filled">
//                     <FilledInput
//                         id="exang"
//                         endAdornment={<InputAdornment position="end">0 or 1</InputAdornment>}
//                         aria-describedby="exang-helper-text"
//                         inputProps={{
//                             'aria-label': 'exang',
//                         }}
//                     />
//                     <FormHelperText id="exang-helper-text" style={{
//                         fontWeight: 'bold',
//                         fontSize: '1rem',
//                         color: 'black'
//                     }}>Exercise-Induced Angina (1 = Yes)</FormHelperText>
//                 </FormControl>

//                 <FormControl sx={{ m: 1, width: '25ch' }} variant="filled">
//                     <FilledInput
//                         id="oldpeak"
//                         endAdornment={<InputAdornment position="end">mm</InputAdornment>}
//                         aria-describedby="oldpeak-helper-text"
//                         inputProps={{
//                             'aria-label': 'oldpeak',
//                         }}
//                     />
//                     <FormHelperText id="oldpeak-helper-text" style={{
//                         fontWeight: 'bold',
//                         fontSize: '1rem',
//                         color: 'black'
//                     }}>ST Depression</FormHelperText>
//                 </FormControl>

//                 <FormControl sx={{ m: 1, width: '25ch' }} variant="filled">
//                     <FilledInput
//                         id="slope"
//                         endAdornment={<InputAdornment position="end">0-2</InputAdornment>}
//                         aria-describedby="slope-helper-text"
//                         inputProps={{
//                             'aria-label': 'slope',
//                         }}
//                     />
//                     <FormHelperText id="slope-helper-text" style={{
//                         fontWeight: 'bold',
//                         fontSize: '1rem',
//                         color: 'black'
//                     }}>Slope of Peak Exercise ST Segment</FormHelperText>
//                 </FormControl>

//                 <FormControl sx={{ m: 1, width: '25ch' }} variant="filled">
//                     <FilledInput
//                         id="ca"
//                         endAdornment={<InputAdornment position="end">0-3</InputAdornment>}
//                         aria-describedby="ca-helper-text"
//                         inputProps={{
//                             'aria-label': 'ca',
//                         }}
//                     />
//                     <FormHelperText id="ca-helper-text" style={{
//                         fontWeight: 'bold',
//                         fontSize: '1rem',
//                         color: 'black'
//                     }}>Number of Major Vessels Colored by Fluoroscopy</FormHelperText>
//                 </FormControl>

//                 <FormControl sx={{ m: 1, width: '25ch' }} variant="filled">
//                     <FilledInput
//                         id="thal"
//                         endAdornment={<InputAdornment position="end">0-3</InputAdornment>}
//                         aria-describedby="thal-helper-text"
//                         inputProps={{
//                             'aria-label': 'thal',
//                         }}
//                     />
//                     <FormHelperText id="thal-helper-text" style={{
//                         fontWeight: 'bold',
//                         fontSize: '1rem',
//                         color: 'black'
//                     }}>Thalassemia (0-3)</FormHelperText>
//                 </FormControl>
//                 <SendDeleteButton />
//             </div>
//         </Box>
//     );
// }


// Code from Pathum

// eslint-disable-next-line no-unused-vars
import React, { useState } from 'react';
import Box from '@mui/material/Box';
import FilledInput from '@mui/material/FilledInput';
import InputAdornment from '@mui/material/InputAdornment';
import FormHelperText from '@mui/material/FormHelperText';
import FormControl from '@mui/material/FormControl';
import Button from '@mui/material/Button';
import SendIcon from '@mui/icons-material/Send';
import Stack from '@mui/material/Stack';


export default function MachineLearningData() {
    const [formData, setFormData] = useState({
        age: '',
        sex: '',
        cp: '',
        trestbps: '',
        chol: '',
        fbs: '',
        restecg: '',
        thalach: '',
        exang: '',
        oldpeak: '',
        slope: '',
        ca: '',
        thal: ''
    });

    const [responseData, setResponseData] = useState(null);

    const handleChange = (event) => {
        setFormData({
            ...formData,
            [event.target.name]: event.target.value
        });
    };

    const handleSubmit = async (event) => {
        event.preventDefault();

        const jsonData = {
            data: {
                age: Number(formData.age),
                sex: Number(formData.sex),
                cp: Number(formData.cp),
                trestbps: Number(formData.trestbps),
                chol: Number(formData.chol),
                fbs: Number(formData.fbs),
                restecg: Number(formData.restecg),
                thalach: Number(formData.thalach),
                exang: Number(formData.exang),
                oldpeak: Number(formData.oldpeak),
                slope: Number(formData.slope),
                ca: Number(formData.ca),
                thal: Number(formData.thal),
            }
        };

        try {
            const response = await fetch("http://127.0.0.1:8005/predict", {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(jsonData)
            });

            if (!response.ok) {
                throw new Error('Network response was not ok');
            }

            const result = await response.json();
            console.log(result);
            setResponseData(result);

        } catch (error) {
            console.error("Error:", error);
        }
    };

    return (
        <Box sx={{ display: 'flex', flexWrap: 'wrap' }}>
            <h1 style={{textAlign: 'center'}}>The Prediction System- Evaluation of patients</h1>
            <form onSubmit={handleSubmit}>
                {[
                    { id: 'age', label: 'Enter your age', adornment: 'years', value: formData.age },
                    { id: 'sex', label: 'Sex (0 = Female, 1 = Male)', adornment: '0 or 1', value: formData.sex },
                    { id: 'cp', label: 'Chest Pain Type (0-3)', adornment: 'type', value: formData.cp },
                    { id: 'trestbps', label: 'Resting Blood Pressure', adornment: 'mm Hg', value: formData.trestbps },
                    { id: 'chol', label: 'Serum Cholesterol', adornment: 'mg/dL', value: formData.chol },
                    { id: 'fbs', label: 'Fasting Blood Sugar (1 if > 120 mg/dL)', adornment: '0 or 1', value: formData.fbs },
                    { id: 'restecg', label: 'Resting ECG Result', adornment: '0-2', value: formData.restecg },
                    { id: 'thalach', label: 'Maximum Heart Rate', adornment: 'bpm', value: formData.thalach },
                    { id: 'exang', label: 'Exercise-Induced Angina (1 = Yes)', adornment: '0 or 1', value: formData.exang },
                    { id: 'oldpeak', label: 'ST Depression', adornment: 'mm', value: formData.oldpeak },
                    { id: 'slope', label: 'Slope of Peak Exercise ST Segment', adornment: '0-2', value: formData.slope },
                    { id: 'ca', label: 'Number of Major Vessels Colored by Fluoroscopy', adornment: '0-3', value: formData.ca },
                    { id: 'thal', label: 'Thalassemia (0-3)', adornment: '0-3', value: formData.thal },
                ].map((field) => (
                    <FormControl key={field.id} sx={{ m: 1, width: '25ch' }} variant="filled">
                        <FilledInput
                            id={field.id}
                            name={field.id}
                            value={field.value}
                            onChange={handleChange}
                            endAdornment={<InputAdornment position="end">{field.adornment}</InputAdornment>}
                            aria-describedby={`${field.id}-helper-text`}
                            inputProps={{
                                'aria-label': field.id,
                            }}
                        />
                        <FormHelperText id={`${field.id}-helper-text`} style={{
                            fontWeight: 'bold',
                            fontSize: '1rem',
                            color: 'black'
                        }}>{field.label}</FormHelperText>
                    </FormControl>
                ))}
                <Stack direction="row" spacing={2}>
                <Button type="submit" variant="contained" endIcon={<SendIcon />}>
                Send
                 </Button>
                    </Stack>
                
            </form>

            {responseData && (
                <div>
                    <h3>Response Data:</h3>
                    <pre>{JSON.stringify(responseData, null, 2)}</pre>
                    
                </div>
            )}
        </Box>
    );
}
